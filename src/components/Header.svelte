<script lang="ts">
  import { location, push } from "svelte-spa-router";
  import clsx from "clsx";
  import { user } from "../stores/user";

  const routes = [
    {
      href: "/",
      text: "Поиск",
    },
  ];

  async function handleLogout() {
    user.set(null);
    push("#/");
  }
</script>

<header class="fixed top-0 left-0 bg-white shadow-sm w-full">
  <nav class="navbar">
    <div class="navbar-start">
      <svg
        width="201"
        height="36"
        viewBox="0 0 201 36"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M52.2492 4.02653C51.0979 3.09575 49.6502 2.61001 48.1705 2.65796H42.3345V18.4213H45.9984V13.0882H49.162C49.495 13.0816 49.8265 13.0424 50.1518 12.9713H50.3462C51.4661 12.6124 52.4193 11.862 53.0311 10.8577C53.6558 9.99286 53.9812 8.94779 53.9579 7.8812C53.9898 7.15381 53.8551 6.42876 53.5641 5.76135C53.2731 5.09393 52.8335 4.5018 52.2789 4.03013L52.2492 4.02653ZM50.2364 7.8812C50.255 8.13093 50.2157 8.38158 50.1216 8.61364C50.0275 8.8457 49.8811 9.05292 49.6938 9.21918C49.1977 9.57475 48.5932 9.74654 47.9842 9.70506H46.0434V6.02315H47.9887C48.5946 5.98891 49.1934 6.16781 49.6812 6.52883C49.8725 6.69516 50.0224 6.90368 50.1192 7.13791C50.2161 7.37215 50.2571 7.62568 50.2391 7.8785"
          fill="#222222"
        />
        <path
          d="M183.455 4.0265C182.306 3.09521 180.861 2.60929 179.383 2.65793H173.551V18.4212H177.221V13.0882H180.37C180.702 13.0886 181.034 13.0561 181.36 12.991H181.559C182.678 12.6315 183.631 11.8813 184.243 10.8774C184.835 10.0193 185.142 8.99581 185.118 7.95315C185.151 7.22483 185.016 6.49874 184.724 5.83087C184.431 5.16301 183.989 4.57123 183.432 4.10118L183.455 4.0265ZM181.39 7.95315C181.41 8.20331 181.371 8.45472 181.278 8.68754C181.184 8.92036 181.037 9.12822 180.85 9.29472C180.353 9.64925 179.749 9.82122 179.14 9.78151H177.195V6.02312H179.14C179.746 5.98902 180.345 6.16791 180.833 6.52879C181.021 6.69674 181.169 6.90572 181.265 7.13969C181.36 7.37365 181.401 7.62638 181.383 7.87847"
          fill="#222222"
        />
        <path
          d="M72.5375 4.46743C71.0055 2.97224 68.9497 2.13528 66.809 2.13528C64.6683 2.13528 62.6125 2.97224 61.0806 4.46743C60.3259 5.23592 59.7342 6.14885 59.3409 7.15151C58.9476 8.15417 58.7607 9.22591 58.7915 10.3025C58.7577 11.3785 58.9419 12.4503 59.3332 13.4532C59.7244 14.4562 60.3145 15.3696 61.068 16.1385C62.6065 17.6234 64.6613 18.4532 66.7996 18.4532C68.9378 18.4532 70.9926 17.6234 72.5312 16.1385C73.2868 15.3708 73.8787 14.4578 74.2711 13.4546C74.6635 12.4515 74.8482 11.3791 74.8139 10.3025C74.8452 9.2264 74.6592 8.15503 74.2669 7.15244C73.8747 6.14986 73.2844 5.23666 72.5312 4.46743H72.5375ZM69.8858 13.6164C69.0762 14.4314 67.9762 14.8915 66.8274 14.8955C65.6787 14.8996 64.5754 14.4472 63.7601 13.638L63.7385 13.6164C62.9121 12.698 62.4792 11.4919 62.5328 10.2575C62.4797 9.01947 62.9124 7.80966 63.7385 6.88604C64.1344 6.48238 64.606 6.16066 65.1263 5.93926C65.6466 5.71786 66.2054 5.60111 66.7708 5.59568C67.3362 5.59025 67.8972 5.69624 68.4216 5.90761C68.946 6.11898 69.4237 6.43157 69.8273 6.82755C69.8471 6.84645 69.8669 6.86624 69.8858 6.88604C70.7142 7.80874 71.1495 9.01854 71.0987 10.2575C71.1544 11.4935 70.7183 12.7012 69.8858 13.6164Z"
          fill="#222222"
        />
        <path
          d="M166.278 4.46742C164.746 2.97433 162.691 2.1387 160.552 2.1387C158.413 2.1387 156.359 2.97433 154.827 4.46742C154.072 5.23591 153.481 6.14884 153.087 7.1515C152.694 8.15416 152.507 9.2259 152.538 10.3025C152.504 11.3784 152.688 12.4501 153.079 13.453C153.471 14.4559 154.06 15.3694 154.814 16.1385C156.352 17.6234 158.407 18.4532 160.546 18.4532C162.684 18.4532 164.739 17.6234 166.278 16.1385C167.032 15.3699 167.623 14.4567 168.015 13.4537C168.408 12.4508 168.593 11.3789 168.56 10.3025C168.59 9.22655 168.404 8.15556 168.012 7.15317C167.619 6.15078 167.03 5.23744 166.278 4.46742ZM163.626 13.6164C162.815 14.4322 161.713 14.8925 160.563 14.896C159.412 14.8996 158.307 14.4461 157.491 13.6353L157.472 13.6164C156.651 12.6956 156.22 11.4906 156.273 10.2575C156.219 9.01933 156.652 7.8092 157.479 6.88603C157.874 6.48279 158.345 6.16133 158.864 5.94003C159.383 5.71872 159.941 5.60189 160.506 5.5962C161.071 5.59052 161.631 5.6961 162.154 5.90691C162.678 6.11772 163.155 6.42964 163.559 6.82484L163.619 6.88603C164.451 7.80646 164.887 9.01786 164.832 10.2575C164.887 11.4921 164.454 12.6987 163.626 13.6164Z"
          fill="#222222"
        />
        <path
          d="M199.697 2.65796H190.023V18.4212H193.712V6.06273H198.571L198.751 5.7928L200.203 3.59463L200.826 2.65436L199.697 2.65796Z"
          fill="#222222"
        />
        <path
          d="M148.687 2.65796H135.752V6.06184H140.68V18.4212H144.363V6.06273H149.295V2.65796H148.687Z"
          fill="#222222"
        />
        <path
          d="M91.0865 14.2975L90.7428 14.1284L90.4377 14.3686C89.7161 14.9173 88.8237 15.193 87.9184 15.1469C87.302 15.1764 86.6863 15.0761 86.1111 14.8526C85.5359 14.6291 85.014 14.2873 84.5793 13.8494C84.1407 13.3884 83.7997 12.8435 83.5769 12.2474C83.3541 11.6514 83.254 11.0165 83.2827 10.3808C83.255 9.75494 83.3558 9.13008 83.5788 8.54468C83.8018 7.95927 84.1423 7.42572 84.5793 6.97689C85.0131 6.54053 85.5334 6.1997 86.1067 5.97625C86.68 5.75281 87.2937 5.6517 87.9085 5.67941C88.4512 5.68644 88.9861 5.80914 89.4777 6.03932C90.0261 6.29234 90.5096 6.66717 90.8912 7.13525L91.2601 7.56265L91.7145 7.22613L93.3998 5.96104L93.9055 5.57863L93.4844 5.06036C92.7855 4.19383 91.8988 3.49754 90.8912 3.02415C89.9308 2.58799 88.8868 2.3666 87.832 2.37541C86.7409 2.37104 85.6581 2.56431 84.636 2.94587C83.6518 3.31802 82.7554 3.89 82.0032 4.62576C81.2409 5.35635 80.642 6.24014 80.2459 7.21894C79.848 8.23307 79.6477 9.31391 79.6557 10.4033C79.6495 11.489 79.8454 12.5663 80.2333 13.5804C80.6113 14.5497 81.1826 15.432 81.9123 16.1736C82.6438 16.9195 83.529 17.497 84.5064 17.8661C85.5691 18.2457 86.691 18.4322 87.8194 18.4167C88.7404 18.4609 89.6611 18.3221 90.5281 18.0083C91.3952 17.6945 92.1914 17.2119 92.8708 16.5884C92.9868 16.4786 93.1038 16.349 93.2307 16.206L93.7435 15.6094L93.0363 15.2657L91.0865 14.2975Z"
          fill="#222222"
        />
        <path
          d="M112.359 7.20365C111.965 6.22364 111.366 5.3392 110.602 4.60958C109.851 3.87276 108.954 3.30089 107.969 2.93059C106.949 2.54812 105.868 2.3548 104.779 2.36013C103.726 2.35115 102.684 2.57225 101.726 3.00797C100.718 3.48133 99.8306 4.17761 99.1314 5.04418L98.7292 5.53096L99.2349 5.91337L100.915 7.17306L101.365 7.51048L101.735 7.08218C102.133 6.6212 102.632 6.25743 103.193 6.01864C103.684 5.78541 104.219 5.66256 104.762 5.65873C105.376 5.63156 105.988 5.73286 106.559 5.95615C107.131 6.17943 107.65 6.51977 108.082 6.95531C108.202 7.07186 108.313 7.19762 108.413 7.33142C108.436 7.37896 108.469 7.42099 108.51 7.45469C108.901 8.00014 109.16 8.62822 109.269 9.29025H103.193L103.842 10.2368L104.957 11.8897L105.137 12.1597H109.112C108.903 12.787 108.555 13.3589 108.093 13.8324C107.658 14.2695 107.136 14.6107 106.561 14.834C105.986 15.0573 105.37 15.1578 104.754 15.1289C103.849 15.1751 102.957 14.8997 102.235 14.3515L101.936 14.1113L101.592 14.2795L99.5957 15.2522L98.8885 15.5959L99.4014 16.1925C99.5148 16.3259 99.635 16.4536 99.7613 16.5749C100.441 17.1984 101.237 17.681 102.104 17.9949C102.971 18.3087 103.892 18.4475 104.813 18.4032C105.941 18.4187 107.063 18.2322 108.126 17.8526C109.101 17.4805 109.986 16.9034 110.72 16.1601C111.449 15.4197 112.019 14.537 112.392 13.5669C112.766 12.5413 112.944 11.4549 112.918 10.3637C112.929 9.27409 112.728 8.19273 112.328 7.17936"
          fill="#222222"
        />
        <path
          d="M132.166 17.5872L126.184 3.05387L126.035 2.67776H122.616L122.466 3.05387L116.533 17.5872L116.19 18.424H120.336L120.485 18.0416L124.343 8.49666L128.204 18.0371L128.36 18.4195H132.51L132.166 17.5872Z"
          fill="#222222"
        />
        <path
          d="M14.6923 17.714H0.174286C0.277693 18.7665 0.481984 19.8066 0.78434 20.8201H9.39076L3.78871 26.4158C4.45657 27.2194 5.20155 27.9557 6.01297 28.614L11.6087 23.0182V31.6157C12.6241 31.9189 13.6664 32.1232 14.7211 32.2257L14.6923 17.714Z"
          fill="#1E71B8"
        />
        <path
          d="M32.3091 17.714H17.7983V32.2257C18.8573 32.1245 19.9039 31.9202 20.9233 31.6156V22.0456V20.8201H28.413C27.8048 22.3964 26.895 23.839 25.7344 25.067V29.1781C28.5794 27.1069 30.6733 24.1663 31.6999 20.8003V20.7364C31.7584 20.542 31.8106 20.3414 31.8619 20.1398L31.9006 19.9779C31.9528 19.7637 32.005 19.5505 32.05 19.33C32.0584 19.27 32.0692 19.2115 32.0824 19.1546L32.1795 18.5967V18.441C32.1938 18.265 32.2178 18.0898 32.2515 17.9165V17.6888"
          fill="#1E71B8"
        />
        <path
          d="M16.2417 0C12.2119 0.00168345 8.32848 1.51095 5.35516 4.23101C2.38185 6.95107 0.533738 10.6851 0.174255 14.6988H11.1516L12.8828 11.6063H4.02622C4.30236 10.857 4.64977 10.136 5.06367 9.45311H14.0894L15.8206 6.35426H7.63795C10.0106 4.24845 13.0729 3.08549 16.2453 3.08549C19.4176 3.08549 22.4799 4.24845 24.8526 6.35426H16.67L18.3948 9.45311H27.408C27.8171 10.1375 28.162 10.8583 28.4382 11.6063H19.6267L21.3578 14.6988H32.3028C31.9418 10.6868 30.0941 6.9546 27.1225 4.23501C24.1508 1.51542 20.2699 0.00489564 16.2417 0Z"
          fill="#1E71B8"
        />
        <path
          d="M43.8398 30.9615H45.292C46.0856 30.8817 46.8829 31.0719 47.555 31.5014C47.7943 31.7615 47.9759 32.0693 48.0877 32.4046C48.1995 32.7399 48.2391 33.095 48.2037 33.4467C48.2174 33.886 48.1566 34.3244 48.0238 34.7433C47.9241 35.061 47.706 35.3281 47.4146 35.4892C47.1292 35.6548 46.814 35.7628 46.487 35.8069C46.0378 35.8664 45.5849 35.8922 45.1319 35.8842C44.1331 35.8842 43.2261 35.8455 42.3893 35.7745V27.5244C43.4529 27.4659 44.3347 27.4407 45.0887 27.4407C45.8427 27.4407 46.7227 27.4407 47.7466 27.5244L47.6306 28.7373H43.8398V30.9615ZM43.8398 34.6893H45.292C45.684 34.7372 46.0805 34.6478 46.4141 34.4365C46.6307 34.132 46.7254 33.7573 46.6795 33.3864C46.7199 33.0136 46.6257 32.6387 46.4141 32.3292C46.0856 32.105 45.6865 32.009 45.292 32.0593H43.8398V34.6893Z"
          fill="#A6B4C1"
        />
        <path
          d="M54.9881 35.8176H53.6915V32.4201C53.6915 32.4201 53.6915 32.1087 53.7491 31.5446C53.6292 31.821 53.484 32.0858 53.3154 32.3355L50.715 35.8176H49.5345V29.9304H50.8356V33.3666C50.8349 33.644 50.8174 33.921 50.7834 34.1962H50.8221C50.9383 33.9322 51.0841 33.6823 51.2567 33.4512L53.7923 29.9304H54.9917L54.9881 35.8176Z"
          fill="#A6B4C1"
        />
        <path
          d="M56.5456 31.1234L56.4476 30.0536C57.0806 29.8866 57.7339 29.8094 58.3884 29.8242C59.1311 29.7754 59.8758 29.8836 60.574 30.1418C60.7907 30.2751 60.9634 30.4691 61.0706 30.6998C61.1777 30.9306 61.2147 31.1877 61.1768 31.4393C61.2057 31.792 61.1067 32.1433 60.8979 32.429C60.6408 32.6736 60.2998 32.8104 59.945 32.8114V32.8501C60.3583 32.8486 60.7567 33.0039 61.0599 33.2847C61.3034 33.5936 61.4236 33.9819 61.3973 34.3744C61.4355 34.6251 61.3993 34.8816 61.2933 35.112C61.1873 35.3425 61.016 35.5368 60.8007 35.6709C60.1502 35.9289 59.45 36.0375 58.7519 35.9886C57.9071 35.9995 57.0633 35.9278 56.2325 35.7744L56.336 34.7046C57.1458 34.7766 57.9178 34.8152 58.6574 34.8152C58.994 34.844 59.3326 34.795 59.6472 34.6722C59.7348 34.6043 59.8035 34.515 59.8466 34.4129C59.8898 34.3108 59.906 34.1993 59.8937 34.0891C59.9071 33.9794 59.8899 33.8681 59.8442 33.7675C59.7985 33.6669 59.726 33.5808 59.6346 33.5187C59.3235 33.3957 58.9898 33.3402 58.6556 33.3558H57.0927V32.3094H58.6421C58.9377 32.3345 59.2348 32.2834 59.505 32.1609C59.5876 32.0941 59.6514 32.007 59.6901 31.9081C59.7287 31.8091 59.7409 31.7018 59.7255 31.5967C59.7321 31.5 59.71 31.4035 59.662 31.3193C59.614 31.2351 59.5421 31.167 59.4555 31.1234C59.1259 31.0245 58.7814 30.9848 58.4379 31.0065C57.8029 31.0058 57.1685 31.0449 56.5384 31.1234"
          fill="#A6B4C1"
        />
        <path
          d="M68.2311 29.9304V35.8176H66.805V33.2371H64.2325V35.8176H62.7928V29.9304H64.2325V32.1636H66.8068V29.9304H68.2311Z"
          fill="#A6B4C1"
        />
        <path
          d="M73.5956 33.4836H71.1968C71.1915 33.6759 71.2269 33.8671 71.3005 34.0448C71.3742 34.2224 71.4845 34.3826 71.6242 34.5148C71.9734 34.7148 72.3748 34.8048 72.7759 34.773C73.4828 34.7642 74.1885 34.7143 74.8895 34.6236L75.0191 35.5639C74.248 35.8663 73.4214 36.0012 72.5942 35.9598C72.1878 36.0012 71.7772 35.96 71.3872 35.8384C70.9972 35.7169 70.6358 35.5176 70.3249 35.2526C69.8158 34.5649 69.5842 33.7107 69.6762 32.8601C69.5853 32.0033 69.8166 31.1434 70.3249 30.4477C70.6243 30.1921 70.9721 29.9994 71.3477 29.8813C71.7232 29.7632 72.1187 29.722 72.5105 29.7603C73.227 29.7006 73.9431 29.8811 74.5458 30.2732C74.7663 30.4594 74.94 30.6949 75.0526 30.9606C75.1653 31.2263 75.214 31.5148 75.1945 31.8028C75.1945 32.9248 74.6952 33.4827 73.6316 33.4827L73.5956 33.4836ZM71.1941 32.4641H73.2231C73.583 32.4641 73.7549 32.2374 73.7549 31.7767C73.764 31.6567 73.746 31.5361 73.7023 31.424C73.6585 31.3118 73.5901 31.211 73.5021 31.1289C73.2224 30.9778 72.9044 30.9124 72.5879 30.9408C72.3973 30.9184 72.2042 30.935 72.0203 30.9896C71.8363 31.0442 71.6655 31.1357 71.518 31.2584C71.2832 31.6248 71.1699 32.0558 71.1941 32.4902"
          fill="#A6B4C1"
        />
        <path
          d="M81.17 34.6371L81.3131 35.6035C80.6229 35.8604 79.8898 35.9826 79.1536 35.9634C78.7551 36.0039 78.3526 35.9632 77.9703 35.8438C77.588 35.7244 77.2339 35.5288 76.9293 35.2687C76.4265 34.5732 76.1961 33.7176 76.2815 32.8636C76.1965 32.0094 76.4269 31.1537 76.9293 30.4576C77.2354 30.1981 77.5907 30.0029 77.974 29.8837C78.3572 29.7645 78.7605 29.7237 79.1599 29.7639C79.8605 29.7435 80.5585 29.858 81.2159 30.1013L81.0467 31.0155H79.4001C79.1754 30.9897 78.9477 31.0116 78.732 31.0798C78.5164 31.148 78.3175 31.261 78.1485 31.4114C77.8678 31.8503 77.7444 32.3715 77.7985 32.8897C77.7455 33.4138 77.8687 33.9406 78.1485 34.387C78.317 34.5385 78.5156 34.6527 78.7313 34.722C78.947 34.7913 79.1749 34.8142 79.4001 34.7892C79.9903 34.7945 80.58 34.7532 81.1637 34.6659"
          fill="#A6B4C1"
        />
      </svg>
    </div>
    <div class="tabs navbar-center">
      {#each routes as route}
        <a
          class={clsx("tab tab-bordered text-[16px]", {
            "tab-active": $location === route.href,
          })}
          href={"#" + route.href}>{route.text}</a
        >
      {/each}
    </div>
    <div class="navbar-end">
      {#if $user}
        <button class="btn btn-ghost" on:click={handleLogout}>Выйти</button>
      {:else}
        <a class="btn btn-ghost" href="#/login">Войти</a>
      {/if}
    </div>
  </nav>
</header>
